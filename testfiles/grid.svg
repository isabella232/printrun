<svg xmlns="http://www.w3.org/2000/svg" width="150mm" height="150mm" onload="init()" version="1.1"><script type="text/ecmascript"><![CDATA[
	function getParameterByName(name)
	{
	  name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
	  var regexS = "[\\?&]" + name + "=([^&#]*)";
	  var regex = new RegExp(regexS);
	  var results = regex.exec(window.location.search);
	  if(results == null)
	    return "";
	  else
	    return decodeURIComponent(results[1].replace(/\+/g, " "));
	}

	function init() {
	  var width = getParameterByName('width') || 150;
	  var height = getParameterByName('height') || 150;
	  var gridheight = getParameterByName('gridheight') || 10;
	  var gridwidth = getParameterByName('gridwidth') || 10;
	  var lineheight = getParameterByName('lineheight') || 0.5;
	  var linewidth = getParameterByName('linewidth') || 0.5;

	  var lineblockheight = (gridheight/2)-lineheight;
	  var lineblockwidth = (gridwidth/2)-linewidth;

console.log(lineblockheight,lineblockwidth)


	  document.getElementsByTagName('svg')[0].setAttribute('width',width+'mm');
	  document.getElementsByTagName('svg')[0].setAttribute('height',height+'mm');


	  document.getElementsByTagName('pattern')[0].setAttribute('height',gridheight+'mm');
	  document.getElementsByTagName('pattern')[0].setAttribute('width',gridwidth+'mm');

	  document.getElementsByClassName('background')[0].setAttribute('height',gridheight+'mm');
	  document.getElementsByClassName('background')[0].setAttribute('width',gridwidth+'mm');

	  var blocks = document.getElementsByClassName('block');
	  for (var i in blocks){
		  if (blocks[i] instanceof SVGRectElement){
		  	blocks[i].setAttribute('height', lineblockheight+'mm');
		  	blocks[i].setAttribute('width', lineblockwidth+'mm');
		  }
	  }

	  document.getElementsByClassName('topright')[0].setAttribute('x',lineblockwidth+'mm');
	  document.getElementsByClassName('bottomleft')[0].setAttribute('y',lineblockheight+'mm');
	  document.getElementsByClassName('bottomright')[0].setAttribute('x',lineblockwidth+'mm');
	  document.getElementsByClassName('bottomright')[0].setAttribute('y',lineblockheight+'mm');

	}
	]]></script><defs><pattern id="grd" width="10mm" height="10mm" patternUnits="userSpaceOnUse"><rect width="10mm" height="10mm" fill="red" class="background"/><rect width="4.9mm" height="4.9mm" class="block topleft"/><rect width="4.9mm" height="4.9mm" x="4.9mm" class="block topright"/><rect width="4.9mm" height="4.9mm" y="4.9mm" class="block bottomleft"/><rect width="4.9mm" height="4.9mm" x="4.9mm" y="4.9mm" class="block bottomright"/></pattern></defs><rect width="100%" height="100%" fill="url(#grd)"/></svg>